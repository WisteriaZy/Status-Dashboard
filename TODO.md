# TODO – Local Device Status Dashboard

> 原则：先跑起来 → 再变好看 → 再变聪明  
> 所有功能都允许“简陋但可用”的第一版

---

## 阶段 0：基础结构（必须先完成）

- [x] 初始化本地后端（Python + FastAPI）
- [x] 初始化前端（单页 Web）
- [x] 实现标签页切换（不依赖前端框架）
- [x] 定义统一的数据接口结构（JSON）

标签页规划：
- 当前
- 任务列表
- 数据可视化

---

## 阶段 1：当前（状态面板）

### 1.1 当前应用与窗口

- [x] 获取当前活动窗口（标题 + 进程名）
- [x] 建立「进程名 → 易读名称」映射表（可配置）
- [x] 前端展示：
  - 当前应用名称
  - 当前窗口标题
  - 应用图标（可选）

---

### 1.2 应用专属信息小面板（按需）

- [ ] 设计"应用插件"机制（按进程名匹配）
- [ ] osu!：
  - [ ] 若 osu! 处于活动状态，显示游戏相关信息
- [ ] 浏览器：
  - [ ] 尝试获取当前标签页信息（若可行）
- [ ] 音乐播放器：
  - [ ] 显示当前播放的媒体信息（歌名 / 作者）

> 允许第一版只支持 1 个应用

---

### 1.3 使用时间统计

- [ ] 每 N 秒采样一次当前应用
- [ ] 在内存 / 本地数据库中累计使用时长
- [ ] 前端显示：
  - 今日各应用使用时间列表
  - 当前应用已使用时间

---

### 1.4 设备信息采集（周期性）

- [x] CPU 使用率
- [ ] GPU 使用率（若可获取）
- [x] 内存使用情况
- [x] 设备已启动时间（uptime）
- [ ] 设置采集周期（如 30s / 60s）

---

### 1.5 截图与外部工具

- [x] 获取设备全屏截图（按钮触发）
- [x] 前端显示最近截图
- [ ] 提供 Screego 链接入口（不做集成）

---

## 阶段 2：任务列表（Google Tasks）

### 2.1 基础接入

- [x] 接入 Google Tasks API (OAuth 2.0)
- [x] 获取任务列表
- [x] 前端展示任务
- [x] 支持完成 / 删除 / 添加任务

---

### 2.2 特殊命名任务 → 数据记录

- [ ] 设计“特殊任务命名规则”
  - 例：`[ss]`
- [ ] 后端监听任务变化
- [ ] 若检测到特殊任务：
  - [ ] 在对应数据表中新增一条记录
  - [ ] 自动删除该 Todo
- [ ] 规则可扩展（不写死）

> 第一版只支持 1 种特殊规则即可

---

## 阶段 3：数据可视化

### 3.1 本地数据展示

- [ ] 汇总已记录的数据
- [ ] 支持时间维度：
  - 日 / 周 / 月 / 年
- [ ] 不同数据类型使用不同图表：
  - 时间 → 柱状图
  - 频率 → 折线图
  - 占比 → 饼图

---

### 3.2 外部 SQLite 数据导入

- [ ] 提供“导入 SQLite 文件”按钮
- [ ] 解析手机端用时统计数据
- [ ] 映射字段并整合到本地数据
- [ ] 允许覆盖 / 合并策略选择

---

## 阶段 4：数据同步（Notion）

- [ ] 定义 Notion 数据表结构
- [ ] 同步本地记录到 Notion
- [ ] 支持：
  - [ ] 手动同步
  - [ ] 定时同步
- [ ] 出错时不阻塞本地功能

---

## 阶段 5：体验优化（后做）

- [ ] 手机端布局适配
- [ ] 深色模式
- [ ] 面板性能优化
- [ ] 插件机制文档化
- [ ] 增加pwa支持
